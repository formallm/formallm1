# æ¯æ—¥æ›´æ–°é€ŸæŸ¥æ‰‹å†Œ

## âš¡ å¿«é€Ÿå‘½ä»¤

### ç«‹å³éƒ¨ç½²ï¼ˆ3 æ¡å‘½ä»¤ï¼‰

```bash
# 1. åœ¨äº‘æœåŠ¡å™¨ä¸Šå…‹éš†/æ›´æ–°ä»£ç 
cd /var/www && git clone https://github.com/ä½ çš„ç”¨æˆ·å/alailab.git formallm1 && cd formallm1

# 2. è®¾ç½®æƒé™å¹¶é…ç½®å®šæ—¶ä»»åŠ¡
chmod +x server/*.sh && bash server/setup_cron.sh YOUR_API_KEY

# 3. å®Œæˆï¼ï¼ˆç³»ç»Ÿå°†åœ¨æ¯æ™š 23:00 è‡ªåŠ¨è¿è¡Œï¼‰
```

---

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹çŠ¶æ€

```bash
# æŸ¥çœ‹å®šæ—¶ä»»åŠ¡
crontab -l

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f /var/www/formallm1/logs/cron.log

# æŸ¥çœ‹æœ€è¿‘æ‰§è¡Œæƒ…å†µ
tail -50 /var/www/formallm1/logs/daily_$(date +%Y%m%d).log
```

### æ‰‹åŠ¨æ“ä½œ

```bash
cd /var/www/formallm1

# æ‰‹åŠ¨æ‰§è¡Œå®Œæ•´æ›´æ–°
bash server/daily_update.sh YOUR_API_KEY

# åªæ›´æ–°æ’è¡Œæ¦œ
python3 server/fetch_leaderboard.py YOUR_API_KEY

# åªåŒæ­¥èµ›é¢˜
bash server/sync_daily_problems.sh
```

### ä¸Šä¼ èµ›é¢˜æ–‡ä»¶

```bash
# ä»æœ¬åœ°ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp lean_1107.jsonl user@server:/var/www/formallm1/assets/files/
scp litex_1107.jsonl user@server:/var/www/formallm1/assets/files/

# åœ¨æœåŠ¡å™¨ä¸ŠéªŒè¯
ls -lh /var/www/formallm1/assets/files/*.jsonl
```

---

## ğŸ“‚ é‡è¦è·¯å¾„

```
/var/www/formallm1/                        # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ daily_update.sh                    # ä¸»æ›´æ–°è„šæœ¬
â”‚   â”œâ”€â”€ fetch_leaderboard.py               # æ’è¡Œæ¦œæ›´æ–°
â”‚   â”œâ”€â”€ sync_daily_problems.sh             # èµ›é¢˜åŒæ­¥
â”‚   â””â”€â”€ setup_cron.sh                      # Cron é…ç½®
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ leaderboard.json               # æ’è¡Œæ¦œæ•°æ®
â”‚   â””â”€â”€ files/
â”‚       â”œâ”€â”€ lean_1107.jsonl                # Lean èµ›é¢˜
â”‚       â””â”€â”€ litex_1107.jsonl               # Litex èµ›é¢˜
â””â”€â”€ logs/
    â”œâ”€â”€ cron.log                           # Cron æ‰§è¡Œæ—¥å¿—
    â””â”€â”€ daily_YYYYMMDD.log                 # æ¯æ—¥è¯¦ç»†æ—¥å¿—
```

---

## â° æ‰§è¡Œæ—¶é—´

```
æ¯å¤© 23:00 è‡ªåŠ¨æ‰§è¡Œ
    â†“
1. æ›´æ–°å½“æ—¥æ’è¡Œæ¦œï¼ˆ1åˆ†é’Ÿï¼‰
2. åŒæ­¥ç¬¬äºŒå¤©èµ›é¢˜ï¼ˆå¦‚æœæ–‡ä»¶å­˜åœ¨ï¼‰
3. æ¨é€åˆ° GitHubï¼ˆ10ç§’ï¼‰
    â†“
GitHub Pages è‡ªåŠ¨éƒ¨ç½²ï¼ˆ1-2åˆ†é’Ÿï¼‰
    â†“
23:03 ç½‘ç«™æ›´æ–°å®Œæˆ âœ¨
```

---

## ğŸ”§ ä¿®æ”¹æ‰§è¡Œæ—¶é—´

```bash
# ç¼–è¾‘å®šæ—¶ä»»åŠ¡
crontab -e

# ä¿®æ”¹ä¸ºå…¶ä»–æ—¶é—´ï¼ˆæ ¼å¼ï¼šåˆ† æ—¶ æ—¥ æœˆ å‘¨ï¼‰
# ä¾‹å¦‚æ”¹ä¸º 22:00
0 22 * * * cd /var/www/formallm1 && bash server/daily_update.sh YOUR_API_KEY >> logs/cron.log 2>&1

# å¸¸ç”¨æ—¶é—´ç¤ºä¾‹ï¼š
# 0 22 * * *    æ¯å¤© 22:00
# 0 23 * * *    æ¯å¤© 23:00 ï¼ˆé»˜è®¤ï¼‰
# 0 0 * * *     æ¯å¤© 00:00
# 0 */2 * * *   æ¯ 2 å°æ—¶
```

---

## ğŸ“… èµ›é¢˜æ–‡ä»¶å‘½å

```
æ ¼å¼ï¼š{track}_{MMDD}.jsonl

ç¤ºä¾‹ï¼š
  lean_1107.jsonl    â†’ 11æœˆ7æ—¥ Lean èµ›é¢˜
  litex_1107.jsonl   â†’ 11æœˆ7æ—¥ Litex èµ›é¢˜
  lean_1231.jsonl    â†’ 12æœˆ31æ—¥ Lean èµ›é¢˜
```

---

## ğŸ› å¿«é€Ÿæ•…éšœæ’æŸ¥

### å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ

```bash
# 1. æ£€æŸ¥ Cron æœåŠ¡
sudo systemctl status cron

# 2. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
sudo grep CRON /var/log/syslog | tail -10

# 3. æ‰‹åŠ¨æµ‹è¯•
bash /var/www/formallm1/server/daily_update.sh YOUR_API_KEY
```

### æ¨é€å¤±è´¥ï¼Ÿ

```bash
# 1. æµ‹è¯• GitHub è¿æ¥
ssh -T git@github.com

# 2. æ£€æŸ¥ Deploy Key
# è®¿é—®: https://github.com/ä½ çš„ç”¨æˆ·å/alailab/settings/keys
# ç¡®ä¿å‹¾é€‰äº† "Allow write access"

# 3. æŸ¥çœ‹è¯¦ç»†é”™è¯¯
cd /var/www/formallm1
git push origin main -v
```

### èµ›é¢˜æ²¡åŒæ­¥ï¼Ÿ

```bash
# 1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
TOMORROW=$(date -d "tomorrow" +%m%d)
ls -lh /var/www/formallm1/assets/files/*_${TOMORROW}.jsonl

# 2. æ£€æŸ¥æ–‡ä»¶å‘½åæ ¼å¼ï¼ˆå¿…é¡»æ˜¯ MMDD æ ¼å¼ï¼‰

# 3. æ‰‹åŠ¨æµ‹è¯•
bash /var/www/formallm1/server/sync_daily_problems.sh
```

---

## âœ… æ¯æ—¥æ£€æŸ¥æ¸…å•

**ä¸‹åˆ 16:00 - å‡†å¤‡ç¬¬äºŒå¤©èµ›é¢˜**
- [ ] å‡†å¤‡å¥½ `lean_MMDD.jsonl`
- [ ] å‡†å¤‡å¥½ `litex_MMDD.jsonl`
- [ ] ä¸Šä¼ åˆ°æœåŠ¡å™¨ `/var/www/formallm1/assets/files/`
- [ ] éªŒè¯æ–‡ä»¶æ ¼å¼å’Œå‘½å

**æ™šä¸Š 23:05 - éªŒè¯æ‰§è¡Œ**
- [ ] æŸ¥çœ‹æ—¥å¿—ï¼š`tail -20 logs/cron.log`
- [ ] æ£€æŸ¥ GitHub æäº¤
- [ ] è®¿é—®ç½‘ç«™ç¡®è®¤æ›´æ–°

**é—®é¢˜å¤„ç†**
- [ ] å¦‚æœ‰é”™è¯¯ï¼ŒæŸ¥çœ‹è¯¦ç»†æ—¥å¿—
- [ ] æ‰‹åŠ¨æ‰§è¡Œæµ‹è¯•
- [ ] è®°å½•é—®é¢˜å¹¶è§£å†³

---

## ğŸ“ ç´§æ€¥è”ç³»

```bash
# åœæ­¢è‡ªåŠ¨æ›´æ–°
crontab -r

# æ¢å¤è‡ªåŠ¨æ›´æ–°
bash /var/www/formallm1/server/setup_cron.sh YOUR_API_KEY

# æŸ¥çœ‹å¸®åŠ©
cat /var/www/formallm1/æ¯æ—¥æ›´æ–°éƒ¨ç½²æŒ‡å—.md
```

---

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ | ä½•æ—¶ä½¿ç”¨ |
|------|------|----------|
| `daily_update.sh` | ä¸»æ›´æ–°è„šæœ¬ | Cron æ¯å¤©è‡ªåŠ¨è°ƒç”¨ |
| `fetch_leaderboard.py` | è·å–æ’è¡Œæ¦œ | è¢« daily_update.sh è°ƒç”¨ |
| `sync_daily_problems.sh` | åŒæ­¥èµ›é¢˜ | è¢« daily_update.sh è°ƒç”¨ |
| `setup_cron.sh` | é…ç½®å®šæ—¶ä»»åŠ¡ | é¦–æ¬¡éƒ¨ç½²æˆ–ä¿®æ”¹é…ç½® |

---

**ä¿å­˜æ­¤æ–‡ä»¶åˆ°æ‰‹æœºæˆ–æ‰“å°å‡ºæ¥ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥é˜…ï¼** ğŸ“±

