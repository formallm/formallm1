# å¿«é€Ÿå¼€å§‹ - 3 æ­¥å®Œæˆéƒ¨ç½²

## ðŸ“ ä»“åº“ä¿¡æ¯
- **GitHub**ï¼šhttps://github.com/formallm/formallm1
- **ç½‘ç«™**ï¼šhttps://formallm.github.io/formallm1/

---

## ðŸŽ¯ ç›®æ ‡
æ¯å¤© 23:00 è‡ªåŠ¨ï¼š
1. æ›´æ–°æŽ’è¡Œæ¦œ
2. å‘å¸ƒç¬¬äºŒå¤©èµ›é¢˜
3. æŽ¨é€åˆ° GitHub

---

## âš¡ 3 æ­¥éƒ¨ç½²

### æ­¥éª¤ 1ï¼šæœ¬åœ°æŽ¨é€ï¼ˆWindowsï¼‰

```powershell
cd D:\HuaweiMoveData\Users\NERV\Desktop\alailab
git add formallm1/
git commit -m "Add auto-update system"
git push origin main
```

### æ­¥éª¤ 2ï¼šæœåŠ¡å™¨é…ç½®ï¼ˆLinuxï¼‰

```bash
# 2.1 å…‹éš†ä»“åº“
cd /var/www
sudo git clone https://github.com/formallm/formallm1.git
sudo chown -R $USER:$USER /var/www/formallm1
cd /var/www/formallm1

# 2.2 ç”Ÿæˆ SSH å¯†é’¥
ssh-keygen -t ed25519 -C "formallm-deploy" -f ~/.ssh/formallm_deploy
cat ~/.ssh/formallm_deploy.pub
# ðŸ‘† å¤åˆ¶è¿™ä¸ªå…¬é’¥ï¼Œä¸‹ä¸€æ­¥è¦ç”¨

# 2.3 é…ç½® SSH
cat >> ~/.ssh/config << 'EOF'
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/formallm_deploy
    IdentitiesOnly yes
EOF

# 2.4 é…ç½®å®šæ—¶ä»»åŠ¡ï¼ˆæ›¿æ¢ YOUR_API_KEYï¼‰
chmod +x server/*.sh
bash server/setup_cron.sh YOUR_API_KEY
```

### æ­¥éª¤ 3ï¼šGitHub é…ç½®

1. è®¿é—®ï¼šhttps://github.com/formallm/formallm1/settings/keys
2. ç‚¹å‡» **"Add deploy key"**
3. ç²˜è´´åˆšæ‰å¤åˆ¶çš„å…¬é’¥
4. âœ… **å‹¾é€‰** `Allow write access`
5. ä¿å­˜

---

## âœ… éªŒè¯

```bash
# 1. æµ‹è¯• GitHub è¿žæŽ¥
ssh -T git@github.com
# åº”è¯¥æ˜¾ç¤ºï¼šHi formallm! You've successfully authenticated...

# 2. æŸ¥çœ‹å®šæ—¶ä»»åŠ¡
crontab -l
# åº”è¯¥çœ‹åˆ° 23:00 çš„ä»»åŠ¡

# 3. æ‰‹åŠ¨æµ‹è¯•ï¼ˆæ›¿æ¢ YOUR_API_KEYï¼‰
cd /var/www/formallm1
bash server/daily_update.sh YOUR_API_KEY
```

---

## ðŸ“… å‡†å¤‡èµ›é¢˜

```bash
# æ–‡ä»¶å‘½åï¼šlean_MMDD.jsonl å’Œ litex_MMDD.jsonl
# ä¾‹å¦‚ï¼šlean_1107.jsonl

# ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp lean_1107.jsonl user@server:/var/www/formallm1/assets/files/
scp litex_1107.jsonl user@server:/var/www/formallm1/assets/files/
```

---

## ðŸ”‘ éœ€è¦çš„å¯†é’¥

### 1. FormaLLM API Key
- **ç”¨é€”**ï¼šèŽ·å–æŽ’è¡Œæ¦œæ•°æ®
- **èŽ·å–**ï¼šè”ç³»ç«žèµ›ä¸»åŠžæ–¹
- **ç¤ºä¾‹**ï¼š`your_api_key_12345`

### 2. GitHub Deploy Keyï¼ˆSSHï¼‰
- **ç”¨é€”**ï¼šæŽ¨é€ä»£ç åˆ° GitHub
- **ç”Ÿæˆ**ï¼š`ssh-keygen -t ed25519 -f ~/.ssh/formallm_deploy`
- **æ·»åŠ **ï¼šGitHub ä»“åº“ Settings â†’ Deploy keys

---

## ðŸ› å¸¸è§é—®é¢˜

### Q1: API Key åœ¨å“ªé‡Œï¼Ÿ
**A**: è”ç³»ç«žèµ›ä¸»åŠžæ–¹èŽ·å–ï¼Œä¸æ˜¯ GitHub çš„å¯†é’¥ã€‚

### Q2: Push å¤±è´¥ï¼Ÿ
```bash
# æ£€æŸ¥ SSH
ssh -T git@github.com

# å¦‚æžœå¤±è´¥ï¼Œæ£€æŸ¥ GitHub Deploy Key æ˜¯å¦å‹¾é€‰äº† "Allow write access"
```

### Q3: å®šæ—¶ä»»åŠ¡ä¸æ‰§è¡Œï¼Ÿ
```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f /var/www/formallm1/logs/cron.log

# æ£€æŸ¥ Cron æœåŠ¡
sudo systemctl status cron
```

---

## ðŸ“– è¯¦ç»†æ–‡æ¡£

- **å®Œæ•´æŒ‡å—**ï¼š`å®Œæ•´é…ç½®æŒ‡å—.md`
- **éƒ¨ç½²æŒ‡å—**ï¼š`æ¯æ—¥æ›´æ–°éƒ¨ç½²æŒ‡å—.md`
- **é€ŸæŸ¥æ‰‹å†Œ**ï¼š`æ¯æ—¥æ›´æ–°-é€ŸæŸ¥æ‰‹å†Œ.md`

---

## ðŸŽ‰ å®Œæˆï¼

é…ç½®æˆåŠŸåŽï¼Œç³»ç»Ÿå°†ï¼š
- â° æ¯æ™š 23:00 è‡ªåŠ¨è¿è¡Œ
- ðŸ“Š æ›´æ–°æŽ’è¡Œæ¦œæ•°æ®
- ðŸ“¦ å‘å¸ƒç¬¬äºŒå¤©èµ›é¢˜ï¼ˆå¦‚æžœæ–‡ä»¶å­˜åœ¨ï¼‰
- ðŸš€ è‡ªåŠ¨æŽ¨é€åˆ° GitHub
- ðŸŒ ç½‘ç«™åœ¨ 23:03 å·¦å³æ›´æ–°å®Œæˆ

**ä¸‹æ¬¡æ‰§è¡Œ**ï¼šä»Šæ™š 23:00

